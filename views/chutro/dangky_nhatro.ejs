<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet">
	<script type="text/javascript" src="Scripts/jquery-2.1.1.min.js"></script>
	<link href="http://localhost:3000/css/dropzone.css" rel="stylesheet">
	<title><%= title %></title>
	<style>
			
	</style>
	
</head>

<body>
	<%- include('include/header') %>
    <div class="page-body">
        <%- include('include/sidebar') %>
        <div class="page-content-wrapper">
            <div class="page-content-wrapper-inner">
                <div class="content-viewport">
                <div class="row" >
                    <div class="col-12 py-5">
                        <div class="grid">
                            <p class="grid-header" style="box-shadow: 0px 5px 10px rgb(225, 225, 225);">ĐĂNG KÝ TRỌ</p>
                            <div class="item-wrapper row">
	
	  
	<div class="row">
		<div class=" col-7">
			<form action="/chutro/dangky_nhatro" method="post"  class="needs-validation" novalidate>
			<div class="card-body row">
				
				<!--Địa chỉ-->
				<div class="row border p-3 rounded m-0">
					<div style="margin-top: -29px;"><b style="background-color: white;">Địa chỉ</b></div>
					<div class="col-4">
						<label for="detail_address" class="form-label small">Tỉnh/Thành phố</label>
						<select name="province" id="province" class="form-select rounded-pill" required>
							<option></option>
							<% Provinces.forEach(function(pr){ %>
								<option value="<%= pr.id %>"><%= pr._name %></option>
							<% }); %>
						</select>
					</div>

					<div class="col-4">
						<label for="" class="form-label small">Quận/Huyện</label>
						<select name="district" id="district" class="form-select rounded-pill" required>
						</select>
					</div>

					<div class="col-4">
						<label for="" class="form-label small">Xã/Phường/Thị trấn</label>
						<select name="ward" id="ward" class="form-select rounded-pill" required>
						</select>
					</div>

					<div class="mt-3 col-12">
						<label for="" class="form-label small">Vị trí cụ thể</label>
						<input id="vtct" name="vtct" type="text"  class="rounded-pill form-control" placeholder="số nhà/đường, khóm, ấp,...">
					</div>
					<div class="mt-3 col-12">
						<label for="detail_address" class="form-label small">Địa chỉ đầy đủ</label>
						<input name="DiaChi_NT" id="detail_address" type="text" class="rounded-pill form-control" readonly>
					</div>
				</div>

				<!--Thông tinh trọ-->
				<div class="row border p-3 rounded mt-3 m-0">
					<div style="margin-top: -29px;"><b style="background-color: white;">Thông tin</b></div>
					<div class="mt-3 col-6">
						<label for="" class="form-label small">Tên nhà trọ</label>
						<input id="TenNhaTro_NT" name="TenNhaTro_NT" type="text" class="rounded-pill form-control" required>
					</div>
					<div class="mt-3 col-6">
						<label for="detail_address" class="form-label small">Số điện thoại trọ</label>
						<div class="input-group">
							<span class="input-group-text rounded-pill rounded-end">(+84)</span>
							<input name="SoDienThoai_NT" id="detail_address" type="number" class="rounded-pill form-control rounded-start" required>
						</div>
					</div>
					<div class="mt-3 col-6">
						<label for="" class="form-label small">Giá</label>
						<input id="GiaNT" name="Gia_NT" type="number" class="rounded-pill form-control" required>
					</div>
					<div class="mt-3 col-6">
						<label for="" class="form-label small">Số lượng phòng</label>
						<input id="SoLuongPhong_NT" name="SoLuongPhong_NT" type="number" class="rounded-pill form-control" required>
					</div>
					
				</div>

				<!--Upload anh-->
				<div class="row border p-3 rounded mt-3 m-0">
					<div class="mt-3 col-6">
						<label for="" class="form-label small">Hình ảnh</label>
					</div>
					<div class="card-contain col-12">
						<div class="top">
						</div>
						<div class="drag-area">
							<span class="visible">
								Drag & drop image here or
								<span class="select" role="button">Browse</span>
							</span>
							<span class="on-drop">Drop images here</span>
							<input name="image" type="file" class="file" multiple />
						</div>
				
						<!-- IMAGE PREVIEW CONTAINER -->
						<div class="container"></div>
					</div>
					
				</div>
				
				

				</div>
			</div>
			<div class="col-md-5">
										
				<div class="mt-3 col-12">
					<label for="" class="form-label small">Thông tin mô tả</label>
					<textarea id="ThongTin_NT" name="ThongTin_NT" type="text" class="rounded-pill form-control ckeditor"></textarea>
				</div>
				<!--Tiện ích-->
				<div class="row border p-3 rounded mt-3 m-0">
					<div style="margin-top: -29px;"><b style="background-color: white;">Tiện ích</b></div>
					
						<div class=" row">
							<div class="col-6">
								<div class="form-check form-switch m-lg-2">
									
									<input class="form-check-input" type="checkbox" value="1" name="Wifi_NT">
									<label class="form-check-label" for="flexSwitchCheckDefault">Wifi</label>
								</div>
								<div class="form-check form-switch m-lg-2">
									<input class="form-check-input" type="checkbox" value="1" name="TV_NT">
									<label class="form-check-label" for="flexSwitchCheckDefault">TV</label>
								</div>
								<div class="form-check form-switch m-lg-2">
									<input class="form-check-input" type="checkbox" value="1" name="ChoDeXe_NT">
									<label class="form-check-label" for="flexSwitchCheckDefault">Chỗ để xe</label>
								</div>
							</div>

							<div class="col-6">
								<div class="form-check form-switch m-lg-2">
									<input class="form-check-input" type="checkbox" value="1" name="TuLanh_NT">
									<label class="form-check-label" for="flexSwitchCheckDefault">Tủ lạnh</label>
								</div>
								<div class="form-check form-switch m-lg-2">
									<input class="form-check-input" type="checkbox" value="1" name="MayLanh_NT">
									<label class="form-check-label" for="flexSwitchCheckDefault">Máy lạnh</label>
								</div>
								<div class="form-check form-switch m-lg-2">
									<input class="form-check-input" type="checkbox" value="1" name="BepNauAn_NT">
									<label class="form-check-label" for="flexSwitchCheckDefault">Bếp nấu ăn</label>
								</div>
							</div>
						</div>
				</div>
				
				<div class="text-center">
					<button type="submit" class="btn btn-primary btn-block mb-4">Thêm</button>
				</div>
			</div>
			
		</form>
		
	
		<!-- Search input -->
		
	</div>
	</div>
</div>
</div>
</div>
</div>
</div>
</div>
	<%- include('include/dropzone'); %>
	<%- include('include/js'); %>
</body>

<%- include('include/javascript'); %>
<script>
	var val = 0;
	$('input.form-check-input').click(function(){
		if($(this).is(':checked')){
			$(this).val = 1;
		}
	});
</script>
<script src="https://cdn.ckeditor.com/4.18.0/full/ckeditor.js"></script>
<script>
	CKEDITOR.replace('ThongTin_NT', {
		customConfig: 'http://127.0.0.1:3000/js/config.js'
	});
</script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.1.1/basic.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.1.1/dropzone.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.1.1/dropzone.js"></script>

<script>

    //Preview image
    function readURL(input) {
        if (input.files && input.files[0]){
            var reader = new FileReader();

            reader.onload = function(e) {
                $("#imgPreview").attr('src', e.target.result).width(100).height(100);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }

    $("#img").change(function() {
        readURL(this);
    });

    //Dropzone
    Dropzone.options.dropzoneForm = {
        acceptedFiles: "image/*",
        init: function() {
            this.on("queuecomplete", function(file) {
               setTimeout(function() {
                location.reload()
                }, 1000); 
            });
        }
    }

</script>
</html>